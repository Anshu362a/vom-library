<!DOCTYPE html>
<html>
<head>
  <title>Student ID Card</title>
  <link rel="stylesheet" href="/css/studentId.css">
</head>
<body>

  <!-- ğŸ”µ FRONT SIDE -->
  <div class="id-card front">
    <img
        src="<%= student.profileImage || '/images/default-user.png' %>"
        alt="Student Image"
      />
    <h2><%= student.name %></h2>
    <p><strong>Student ID:</strong> <%= student.studentId %></p>
    <p><strong>Email:</strong> <%= student.email %></p>
    <p><strong>Mobile:</strong> <%= student.mobile %></p>
    <p><strong>Membership Expiry:</strong> <%= new Date(student.membershipExpiry).toDateString() %></p>
    <div class="id-footer">VOM Library System - 2025</div>
  </div>

  <!-- ğŸ”´ BACK SIDE -->
  <div class="id-card back">
    <h3>ğŸ“… Monthly Payment Record</h3>
    <table class="payment-table">
      <thead>
        <tr>
          <th>Month</th>
          <th>Status</th>
          <th>Paid On</th>
        </tr>
      </thead>
      <tbody>
        <% const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']; %>
        <% for (let i = 0; i < 12; i++) { %>
          <tr>
            <td><%= months[i] %> 2025</td>
            <td><%= student.payments && student.payments[i]?.status || 'Pending' %></td>
            <td><%= student.payments && student.payments[i]?.date 
                  ? new Date(student.payments[i].date).toDateString() 
                  : '---' %></td>
          </tr>
        <% } %>
      </tbody>
    </table>
    <div class="id-footer">VOM Library - Payment Info</div>
  </div>

  <button onclick="window.print()" class="print-btn">ğŸ–¨ï¸ Print ID Card</button>

</body>
</html>
